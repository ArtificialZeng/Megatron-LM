# 2B GPT
bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 2b greedy test 32 1e-6 0    400    1417624 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-2b-multi-1.1t-gtc
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 400  400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 800  400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1200 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1600 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2000 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2400 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2800 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 3200 800    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr

#
bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 2b greedy test 32 1e-6 0    400    97656 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-2b-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 400  400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 800  400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1200 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1600 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2000 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2400 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2800 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 3200 800    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#


# 800M GPT
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 0    400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 400  400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 800  400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1200 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1600 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2000 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2400 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2800 400    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 3200 800    2835248 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr
#
#cat generate_843m_test_greedy_0_400_2835248.txt \
#    generate_843m_test_greedy_400_400_2835248.txt \
#    generate_843m_test_greedy_800_400_2835248.txt \
#    generate_843m_test_greedy_1200_400_2835248.txt \
#    generate_843m_test_greedy_1600_400_2835248.txt \
#    generate_843m_test_greedy_2000_400_2835248.txt \
#    generate_843m_test_greedy_2400_400_2835248.txt \
#    generate_843m_test_greedy_2800_400_2835248.txt \
#    generate_843m_test_greedy_3200_800_2835248.txt > generate_843m_test_greedy_0_400_2835248.concat.txt
#
#
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 0    400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 400  400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 800  400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1200 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1600 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2000 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2400 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2800 400    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#bash examples/qa/generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 3200 800    194000 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting
#
#cat    generate_843m_test_greedy_0_400_194000.txt \
#     generate_843m_test_greedy_400_400_194000.txt \
#     generate_843m_test_greedy_800_400_194000.txt \
#    generate_843m_test_greedy_1200_400_194000.txt \
#    generate_843m_test_greedy_1600_400_194000.txt \
#    generate_843m_test_greedy_2000_400_194000.txt \
#    generate_843m_test_greedy_2400_400_194000.txt \
#    generate_843m_test_greedy_2800_400_194000.txt \
#    generate_843m_test_greedy_3200_800_194000.txt > generate_843m_test_greedy_0_400_194000.concat.txt
#
#python truncate_qa_output.py
#
#python tasks/retro_qa/evaluate.py


#reading /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-843m-multi-1.1t-gtc-llr/generate_843m_test_greedy_0_400_2835248.concat.txt.period.txt
#3610it [00:00, 35121.90it/s]
#Exact Match: 0.0158;
#done :-)
#reading /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-gpt-fitting/generate_843m_test_greedy_0_400_194000.concat.txt.period.txt
#3610it [00:00, 33505.20it/s]
#Exact Match: 0.0075;
#done :-)

# 800M Retro
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 0      400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 400    400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 800    400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1200   400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 1600   400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2000   400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2400   400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 2800   400    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#bash examples/qa/retro_generate_multijob_ckpt_step_same_format_short.sh nq 843m greedy test 32 1e-6 3200   800    195312 1 pp1 /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting 2
#
#
#cat generate_843m_test_greedy_0_400_195312.txt \
#     generate_843m_test_greedy_400_400_195312.txt \
#     generate_843m_test_greedy_800_400_195312.txt \
#    generate_843m_test_greedy_1200_400_195312.txt \
#    generate_843m_test_greedy_1600_400_195312.txt \
#    generate_843m_test_greedy_2000_400_195312.txt \
#    generate_843m_test_greedy_2400_400_195312.txt \
#    generate_843m_test_greedy_2800_400_195312.txt \
#    generate_843m_test_greedy_3200_800_195312.txt > generate_843m_test_greedy_0_400_195312.concat.txt

#python truncate_qa_output.py
#
#python tasks/retro_qa/evaluate.py
#reading /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro-nvllm/gpt3-800m-pretraining-retro-fitting/generate_843m_test_greedy_0_400_195312.concat.txt.period.txt
#3610it [00:00, 44255.74it/s]
#Exact Match: 0.0130;
#done :-)
#reading /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/retro/gpt3-1.3b-pretraining-retro-K-2/generate_nq_1.3b_test_greedy_0_400_2_375000_1_short_format.concat.txt.period.txt
#3610it [00:00, 56164.06it/s]
#Exact Match: 0.1795;
#done :-)
#reading /lustre/fsw/adlr/adlr-nlp/boxinw/checkpoints/gpt3/gpt3-1.3b/generate_nq_1.3b_test_greedy_0_400_389532_short_format_1.concat.txt.period.txt
#3610it [00:00, 43622.07it/s]
#Exact Match: 0.1504;
#done :-)