#!/bin/bash

# DIR=$(readlink -f `pwd`)
# echo $DIR
# exit

if [ "$#" -ne 3 ]; then
    echo "illegal num args, $#."
    exit 1
fi

task=$1
# index_ty=$2
index_str=$2
ntrain=$3
# ncluster=$4

p=`pwd`
# echo "train_index_inner.sh: index_str $index_str, ntrain $ntrain, ncluster $ncluster."
# echo ">> inner: $task, $index_str, $ntrain, $ncluster. <<"
echo ">> inner: $task, $index_str, $ntrain. <<"
echo ">> inner: $p. <<"
# exit 0

# pip install h5py
# conda install -c conda-forge -y faiss-gpu
#python -m lawrence.build_index --task $task -i $index_str -t $ntrain -c $ncluster
python -m lawrence.build_index --task $task -i $index_str -t $ntrain

# eof
